apply plugin: 'netflix.ospackage-tomcat'
apply plugin: 'war'

dependencies {
    compile project(':vms-transformer-common-interfaces')
    compile project(':vms-transformer-io')
    compile project(':vms-transformer-businesslogic')
    compile project(':vms-transformer-publish-workflow')
    compile 'netflix:vms-hollow-generated-notemplate:latest.release'

    compile 'netflix:platform:latest.release'
    compile 'netflix:base-server:latest.release'
    compile 'netflix:awsutils:latest.release'

    compile 'commons-lang:commons-lang:2.6'
}

ospackage {
    from('public_html/WEB-INF/classes/system/setenv.sh') {
        into('/apps/tomcat/bin')
    }
    from('public_html/WEB-INF/classes/system/server.xml') {
        into('/apps/tomcat/conf')
    }
}

war.dependsOn compileTestJava

war {
  from 'public_html'
  into('WEB-INF/classes') {
    from 'src'
  }
}